<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Function Collections</title>
		<style type="text/css" media="screen">
			#results li.pass { color: green; }
			#results li.fail { color: red; }
		</style>
	</head>
	<body>
		<ul id="results"></ul>
		<script type="text/javascript" src="assert.js"></script>
		<script>

			var outerValue = 'ninja';
			var later;

			function outerFunction() {
				var innerValue = 'samurai';

				function innerFunction(paramValue) {
					assert(outerValue, "Inner can see the ninja.");
					assert(innerValue, "Inner can see the samurai.");
					assert(paramValue, "Inner can see the wakizashi.");
					assert(tooLate, "Inner can see the ronin.");
				}

				later = innerFunction;
			}

			assert(!tooLate, "Outer can't see the ronin.");

			var tooLate = 'ronin';

			outerFunction();
			later('wakizashi');

		</script>
	</body>
</html>